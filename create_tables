CREATE TABLE EMPLOYEES (
    EMPLOYEE_ID    INTEGER       PRIMARY KEY
                                 NOT NULL,
    FIRST_NAME     VARCHAR (20),
    LAST_NAME      VARCHAR2 (25) NOT NULL,
    EMAIL          VARCHAR (25)  NOT NULL,
    PHONE_NUMBER   VARCHAR (20),
    HIRE_DATE      TEXT          NOT NULL,
    JOB_ID         VARCHAR (10)  NOT NULL,
    SALARY         REAL,
    COMMISSION_PCT REAL,
    MANAGER_ID     INTEGER,
    DEPARTMENT_ID  INTEGER,
    FOREIGN KEY (
        MANAGER_ID
    )
    REFERENCES EMPLOYEES (EMPLOYEE_ID) ON DELETE CASCADE,
    FOREIGN KEY (
        DEPARTMENT_ID
    )
    REFERENCES DEPARTMENTS (DEPARTMENT_ID) ON DELETE SET NULL,
    FOREIGN KEY (
        JOB_ID
    )
    REFERENCES JOBS (JOB_ID) ON DELETE RESTRICT
);

CREATE TABLE REGIONS (
    REGION_ID   INTEGER      PRIMARY KEY
                             NOT NULL,
    REGION_NAME VARCHAR (25) 
);

CREATE TABLE JOBS (
    JOB_ID     VARCHAR (10) PRIMARY KEY
                            NOT NULL,
    JOB_TITLE  VARCHAR (35) NOT NULL,
    MIN_SALARY NUMERIC,
    MAX_SALARY NUMERIC
);

CREATE TABLE COUNTRIES (
    COUNTRY_ID   CHAR (2)     PRIMARY KEY
                              NOT NULL,
    COUNTRY_NAME VARCHAR (40),
    REGION_ID    INT,
    FOREIGN KEY (
        REGION_ID
    )
    REFERENCES REGIONS (REGION_ID) ON DELETE CASCADE
);

CREATE TABLE LOCATIONS (
    LOCATION_ID    INTEGER      PRIMARY KEY
                                NOT NULL,
    STREET_ADDRESS VARCHAR (40),
    POSTAL_CODE    VARCHAR (12),
    CITY           VARCHAR (30) NOT NULL,
    STATE_PROVINCE VARCHAR (25),
    COUNTRY_ID     CHAR (2),
    FOREIGN KEY (
        COUNTRY_ID
    )
    REFERENCES COUNTRIES (COUNTRY_ID) ON DELETE CASCADE
);

CREATE TABLE DEPARTMENTS (
    DEPARTMENT_ID   INTEGER      PRIMARY KEY
                                 NOT NULL,
    DEPARTMENT_NAME VARCHAR (30) NOT NULL,
    MANAGER_ID      INTEGER,
    LOCATION_ID     INTEGER,
    FOREIGN KEY (
        MANAGER_ID
    )
    REFERENCES EMPLOYEES (EMPLOYEE_ID) ON DELETE SET NULL,
    FOREIGN KEY (
        LOCATION_ID
    )
    REFERENCES LOCATIONS (LOCATION_ID) ON DELETE SET NULL
);
